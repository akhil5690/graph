<cym-widget-frame [frame_type]="'header-main-footer-frame'">
  <cym-top-toolbar header></cym-top-toolbar>
  <cym-div main [cymClass]="'workstation'">
    <cym-div *ngIf="workspaceRes;else noData">

          <cym-div [cymClass]="'workspace-page'">
            <cym-div [cymClass]="'workspace-title'">My Workspace</cym-div>
            <cym-div [cymClass]="'add'">
              <cym-button [image]="'../../../../assets/image/add.svg'" [label]="'New workspace'" [class]="'solid-button'"></cym-button>
            </cym-div>
          </cym-div>

      <cym-div [cymClass]="'workspace-container'">
        <cym-div *ngFor="let card of workspaceRes" [cymClass]="'card'" (click)="goToDashboard()">
          <cym-div [cymClass]="'short-name'">{{card.workspace_key}}</cym-div>
          <cym-div [cymClass]="'text-center'">{{card.name}}</cym-div>
          <cym-div [cymClass]="'text-center'">{{card.description}}</cym-div>
        </cym-div>
      </cym-div>
      <div class="divider-workspace">
        <cym-divider></cym-divider>
      </div>
    </cym-div>

    <ng-template #noData>
      <cym-div [cymClass]="'section1'">
        <cym-workspace-card [cymClass]="'section11'">
          <cym-div card-content>
            <cym-workspace-card-division [workspaceCardDetails]="noWorkspace">
            </cym-workspace-card-division>
            <div class="create-workspace">
              <cym-button [label]="'Create Wokspace'" [class]="'solid-button'" (click)="goToDashboard()"></cym-button>
            </div>
          </cym-div>
        </cym-workspace-card>
      </cym-div>
    </ng-template>
    <cym-div [cymClass]="'section2'">
      <cym-workspace-card [cymClass]="'section2-card'" *ngIf="observables;else noObservable">
        <cym-div header [cymClass]="'section2-head'">Observables</cym-div>
        <cym-div card-content>
          <cym-observable-workspace *ngFor="let observable of observables"
                                    [observableData]="observable"></cym-observable-workspace>
        </cym-div>
      </cym-workspace-card>
      <ng-template #noObservable>
        <!--        place Image for no observables-->
        <cym-workspace-card [cymClass]="'section2-card'">
          <cym-div header [cymClass]="'section2-head'">Observables</cym-div>
          <cym-div card-content>
            <cym-workspace-card-division [workspaceCardDetails]="noObservables">
            </cym-workspace-card-division>
          </cym-div>
        </cym-workspace-card>
      </ng-template>
      <cym-workspace-card [cymClass]="'section2-card'" *ngIf="tasks;else noTask">
        <cym-div header [cymClass]="'section2-head'">Tasks</cym-div>
        <cym-div card-content>
          <cym-tasks-workspace *ngFor="let task of tasks" [taskData]="task"></cym-tasks-workspace>
        </cym-div>
      </cym-workspace-card>
      <ng-template #noTask>
        <cym-workspace-card [cymClass]="'section2-card'">
          <cym-div header [cymClass]="'section2-head'">Tasks</cym-div>
          <cym-div card-content>
            <cym-workspace-card-division [workspaceCardDetails]="noTasks">
            </cym-workspace-card-division>
          </cym-div>
        </cym-workspace-card>
      </ng-template>
      <cym-workspace-card [cymClass]="'section2-card'" *ngIf="shareData;else noshareData">
        <cym-div header [cymClass]="'section2-head'">Shared with Me</cym-div>
        <cym-div card-content>
          Shared with Me
        </cym-div>
      </cym-workspace-card>
      <ng-template #noshareData>
        <cym-workspace-card [cymClass]="'section2-card'">
          <cym-div header [cymClass]="'section2-head'">Shared with Me</cym-div>
          <cym-div card-content>
            <cym-workspace-card-division [workspaceCardDetails]="noShare">
            </cym-workspace-card-division>
          </cym-div>
        </cym-workspace-card>
      </ng-template>
    </cym-div>
  </cym-div>
  <cym-div footer>Copyright - Cymonix - 2023</cym-div>
</cym-widget-frame>
