<cym-widget-frame [frame_type]="'header-main-footer-frame'">
  <cym-top-toolbar header></cym-top-toolbar>
  <

  <div main>
    <cym-div [cymClass]="'secondary-tool'">
      <cym-secondary-toolbar></cym-secondary-toolbar>
    </cym-div>
    <cym-div [cymClass]="'dash-tool-container'">
      <div class="three-tab-container">
        <div (click)="tabType=0; getSchemaData()" [ngClass]="tabType === 0?'active-class':''"> Schema</div>
        <div (click)=" tabType=1; getGraphData()" [ngClass]="tabType === 1?'active-class':''"> Explorer</div>
        <div (click)="tabType = 2;editor()" [ngClass]="tabType === 2?'active-class':''"> Editor</div>
      </div>

      <div class="graph-tool-icons">
        <div *ngFor="let tools of toolBarItems">
          <img (click)="selectedTool(tools)" [src]="tools.icon" [alt]="tools.toolName" [height]="tools.height"
               [width]="tools.width" class="set-icon">
        </div>
      </div>

      <div class="three-tab-container">
        <div>Palette</div>
        <div>Properties</div>
        <div>Diagram</div>
      </div>
    </cym-div>
    <div>
      <cym-graph *ngIf="tabType===0" [layout]="layout" [data]="schema"></cym-graph>
      <cym-graph *ngIf="tabType===1" [layout]="layout" [data]="explorer" (findingsClicked)="loadFindings($event)"
                 (refreshGraph)="refreshGraph($event)"></cym-graph>
      <cym-graph-editor *ngIf="tabType===2"></cym-graph-editor>
    </div>
    <!--    [tools]="this.toolSelected"-->

    <p-dialog [modal]="true" *ngIf="openFindingsPopup" [(visible)]="openFindingsPopup"
              (onHide)="openFindingsPopup =false" class="popup">
      <ng-template pTemplate="header">
        <span class="subtitle">Findings for {{selectedFindings.label}}</span>
      </ng-template>
      <cym-graph [data]="findingsGraph"></cym-graph>
    </p-dialog>

    <p-toast></p-toast>
  </div>
  <cym-div footer>Copyright - Cymonix - 2023</cym-div>
</cym-widget-frame>





